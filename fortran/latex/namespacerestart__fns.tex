\hypertarget{namespacerestart__fns}{}\doxysection{restart\+\_\+fns Module Reference}
\label{namespacerestart__fns}\index{restart\_fns@{restart\_fns}}
\doxysubsection*{Functions/\+Subroutines}
\begin{DoxyCompactItemize}
\item 
subroutine \mbox{\hyperlink{namespacerestart__fns_aa9c19f2ebc4fd0db8d7b561ea351f79b}{write\+\_\+res\+\_\+params}} (param, val, step, seed, pos1, pos2)
\item 
subroutine \mbox{\hyperlink{namespacerestart__fns_ad54208aa49a4b7f6637250e484523044}{read\+\_\+res\+\_\+params}} (res)
\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
integer \mbox{\hyperlink{namespacerestart__fns_abae4eaf545561c534bc832e303c47b4b}{fu}}
\item 
integer \mbox{\hyperlink{namespacerestart__fns_ab386c6b0f14be0090063a054256f5923}{rc}}
\end{DoxyCompactItemize}


\doxysubsection{Function/\+Subroutine Documentation}
\mbox{\Hypertarget{namespacerestart__fns_aa9c19f2ebc4fd0db8d7b561ea351f79b}\label{namespacerestart__fns_aa9c19f2ebc4fd0db8d7b561ea351f79b}} 
\index{restart\_fns@{restart\_fns}!write\_res\_params@{write\_res\_params}}
\index{write\_res\_params@{write\_res\_params}!restart\_fns@{restart\_fns}}
\doxysubsubsection{\texorpdfstring{write\_res\_params()}{write\_res\_params()}}
{\footnotesize\ttfamily subroutine restart\+\_\+fns\+::write\+\_\+res\+\_\+params (\begin{DoxyParamCaption}\item[{character(len=10), intent(in)}]{param,  }\item[{real(real64), intent(in)}]{val,  }\item[{integer(int32), intent(in)}]{step,  }\item[{integer(int32), intent(in)}]{seed,  }\item[{real(real64), dimension(3), intent(in), optional}]{pos1,  }\item[{real(real64), dimension(3), intent(in), optional}]{pos2 }\end{DoxyParamCaption})}



Definition at line 13 of file restart\+\_\+fns.\+f90.


\begin{DoxyCode}{0}
\DoxyCodeLine{14 }
\DoxyCodeLine{15     \textcolor{comment}{! Local variables}}
\DoxyCodeLine{16     \textcolor{keywordtype}{character(len=10)}, \textcolor{keywordtype}{intent(in)} :: param \textcolor{comment}{! name of the current parameter ('alpha','c1','c2,'bond')}}
\DoxyCodeLine{17 \textcolor{keywordtype}{    real}(real64), \textcolor{keywordtype}{intent(in)} :: val  \textcolor{comment}{! current value of "{}param"{} parameter, in the grid search}}
\DoxyCodeLine{18     \textcolor{keywordtype}{integer(int32)}, \textcolor{keywordtype}{intent(in)} :: step \textcolor{comment}{! current step number}}
\DoxyCodeLine{19     \textcolor{keywordtype}{integer(int32)}, \textcolor{keywordtype}{intent(in)}  :: seed \textcolor{comment}{! current seed used}}
\DoxyCodeLine{20 \textcolor{keywordtype}{    real}(real64), \textcolor{keywordtype}{dimension(3)}, \textcolor{keywordtype}{optional}, \textcolor{keywordtype}{intent(in)}  :: pos1 \textcolor{comment}{! current position of electron for QHO \& H2plus}}
\DoxyCodeLine{21 \textcolor{keywordtype}{    real}(real64), \textcolor{keywordtype}{dimension(3)}, \textcolor{keywordtype}{optional}, \textcolor{keywordtype}{intent(in)}  :: pos2 \textcolor{comment}{! current position of second electron for H2}}
\DoxyCodeLine{22     \textcolor{keywordtype}{type}(restart\_type) :: res}
\DoxyCodeLine{23 }
\DoxyCodeLine{24     \textcolor{comment}{! Store the step number and seed}}
\DoxyCodeLine{25     res\%step = step}
\DoxyCodeLine{26     res\%seed = seed}
\DoxyCodeLine{27 }
\DoxyCodeLine{28     \textcolor{comment}{! Store positions, if the simulation was midst an MMC run}}
\DoxyCodeLine{29     \textcolor{keywordflow}{if} (step /= 0) \textcolor{keywordflow}{then}}
\DoxyCodeLine{30         res\%pos1 = pos1 }
\DoxyCodeLine{31         \textcolor{comment}{! For the second electron of H2 system}}
\DoxyCodeLine{32         \textcolor{keywordflow}{if} (\textcolor{keyword}{present}(pos2)) \textcolor{keywordflow}{then}}
\DoxyCodeLine{33             res\%pos2 = pos2}
\DoxyCodeLine{34 \textcolor{keywordflow}{        endif}}
\DoxyCodeLine{35 \textcolor{keywordflow}{    endif}}
\DoxyCodeLine{36 }
\DoxyCodeLine{37     \textcolor{comment}{! Store the parameter value}}
\DoxyCodeLine{38     \textcolor{keywordflow}{select case} (trim(param))}
\DoxyCodeLine{39     \textcolor{keywordflow}{case} (\textcolor{stringliteral}{'alpha'})}
\DoxyCodeLine{40         res\%alpha = val}
\DoxyCodeLine{41     \textcolor{keywordflow}{case} (\textcolor{stringliteral}{'c1'})}
\DoxyCodeLine{42         res\%c1 = val}
\DoxyCodeLine{43     \textcolor{keywordflow}{case} (\textcolor{stringliteral}{'c2'})}
\DoxyCodeLine{44         res\%c2 = val}
\DoxyCodeLine{45     \textcolor{keywordflow}{case} (\textcolor{stringliteral}{'bond'})}
\DoxyCodeLine{46         res\%bond = val}
\DoxyCodeLine{47 \textcolor{keywordflow}{    case default}}
\DoxyCodeLine{48         error stop \textcolor{stringliteral}{'Error: Invalid "{}param"{} passed to function write\_res\_params().'}}
\DoxyCodeLine{49 \textcolor{keywordflow}{    end select}}
\DoxyCodeLine{50 }
\DoxyCodeLine{51     \textcolor{comment}{! Define the RESTART namelist}}
\DoxyCodeLine{52     namelist /restart/ res}
\DoxyCodeLine{53 }
\DoxyCodeLine{54     \textcolor{comment}{! Open the res\_paramts.txt file}}
\DoxyCodeLine{55     \textcolor{keyword}{open}(action=\textcolor{stringliteral}{'write'}, file=\textcolor{stringliteral}{'res\_params.txt'}, iostat=rc, newunit=fu)}
\DoxyCodeLine{56 }
\DoxyCodeLine{57     \textcolor{comment}{! Write the RESTART namelist}}
\DoxyCodeLine{58     \textcolor{keyword}{write}(nml=restart, iostat=rc, unit=fu)}
\DoxyCodeLine{59     \textcolor{keywordflow}{if} (rc /= 0) \textcolor{keywordflow}{then}}
\DoxyCodeLine{60         print*, \textcolor{stringliteral}{'Error: Invalid RESTART namelist defined in function write\_res\_params().'}}
\DoxyCodeLine{61 \textcolor{keywordflow}{    end if}}
\DoxyCodeLine{62     }
\DoxyCodeLine{63     \textcolor{comment}{! Close the res\_paramts.txt file}}
\DoxyCodeLine{64     \textcolor{keyword}{close}(fu)}
\DoxyCodeLine{65 }

\end{DoxyCode}
\mbox{\Hypertarget{namespacerestart__fns_ad54208aa49a4b7f6637250e484523044}\label{namespacerestart__fns_ad54208aa49a4b7f6637250e484523044}} 
\index{restart\_fns@{restart\_fns}!read\_res\_params@{read\_res\_params}}
\index{read\_res\_params@{read\_res\_params}!restart\_fns@{restart\_fns}}
\doxysubsubsection{\texorpdfstring{read\_res\_params()}{read\_res\_params()}}
{\footnotesize\ttfamily subroutine restart\+\_\+fns\+::read\+\_\+res\+\_\+params (\begin{DoxyParamCaption}\item[{type(\mbox{\hyperlink{structshared__data_1_1restart__type}{restart\+\_\+type}}), intent(out)}]{res }\end{DoxyParamCaption})}



Definition at line 70 of file restart\+\_\+fns.\+f90.


\begin{DoxyCode}{0}
\DoxyCodeLine{71 }
\DoxyCodeLine{72     \textcolor{comment}{! Local variables}}
\DoxyCodeLine{73     \textcolor{keywordtype}{type}(restart\_type), \textcolor{keywordtype}{intent(out)} :: res}
\DoxyCodeLine{74 }
\DoxyCodeLine{75     \textcolor{comment}{! Check if file 'res\_params.txt' exists}}
\DoxyCodeLine{76     \textcolor{keyword}{inquire}(file=\textcolor{stringliteral}{'res\_params.txt'}, iostat=rc)}
\DoxyCodeLine{77     \textcolor{keywordflow}{if} (rc /= 0) \textcolor{keywordflow}{then}}
\DoxyCodeLine{78         print*, \textcolor{stringliteral}{'Error: Restart file "{}res\_params.txt"{} does not exist.'}}
\DoxyCodeLine{79         \textcolor{keywordflow}{return}}
\DoxyCodeLine{80 \textcolor{keywordflow}{    end if}}
\DoxyCodeLine{81 }
\DoxyCodeLine{82     \textcolor{comment}{! Define the namelist}}
\DoxyCodeLine{83     namelist /restart/ res}
\DoxyCodeLine{84 }
\DoxyCodeLine{85     \textcolor{comment}{! Open the file}}
\DoxyCodeLine{86     \textcolor{keyword}{open}(action=\textcolor{stringliteral}{'read'}, file=\textcolor{stringliteral}{'res\_params.txt'}, iostat=rc, newunit=fu)}
\DoxyCodeLine{87 }
\DoxyCodeLine{88     \textcolor{comment}{! Read the namelist}}
\DoxyCodeLine{89     \textcolor{keyword}{read}(nml=restart, iostat=rc, unit=fu)}
\DoxyCodeLine{90     \textcolor{keywordflow}{if} (rc /= 0) \textcolor{keywordflow}{then}}
\DoxyCodeLine{91         print*, \textcolor{stringliteral}{'Error: Invalid RESTART namelist in "{}res\_params.txt"{}.'}}
\DoxyCodeLine{92 \textcolor{keywordflow}{    end if}}
\DoxyCodeLine{93     }
\DoxyCodeLine{94     \textcolor{comment}{! Close the file}}
\DoxyCodeLine{95     \textcolor{keyword}{close}(fu)}
\DoxyCodeLine{96 }

\end{DoxyCode}


\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{namespacerestart__fns_abae4eaf545561c534bc832e303c47b4b}\label{namespacerestart__fns_abae4eaf545561c534bc832e303c47b4b}} 
\index{restart\_fns@{restart\_fns}!fu@{fu}}
\index{fu@{fu}!restart\_fns@{restart\_fns}}
\doxysubsubsection{\texorpdfstring{fu}{fu}}
{\footnotesize\ttfamily integer restart\+\_\+fns\+::fu}



Definition at line 8 of file restart\+\_\+fns.\+f90.


\begin{DoxyCode}{0}
\DoxyCodeLine{8     \textcolor{keywordtype}{integer} :: fu, rc}

\end{DoxyCode}
\mbox{\Hypertarget{namespacerestart__fns_ab386c6b0f14be0090063a054256f5923}\label{namespacerestart__fns_ab386c6b0f14be0090063a054256f5923}} 
\index{restart\_fns@{restart\_fns}!rc@{rc}}
\index{rc@{rc}!restart\_fns@{restart\_fns}}
\doxysubsubsection{\texorpdfstring{rc}{rc}}
{\footnotesize\ttfamily integer restart\+\_\+fns\+::rc}



Definition at line 8 of file restart\+\_\+fns.\+f90.

