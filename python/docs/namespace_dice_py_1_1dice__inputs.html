<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Dice Python Frontend Documentation: DicePy.dice_inputs Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Dice Python Frontend Documentation
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('namespace_dice_py_1_1dice__inputs.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">DicePy.dice_inputs Namespace Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Contains main routine that handles the input file params.txt for Dice.  
<a href="namespace_dice_py_1_1dice__inputs.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a261569dce72b6b21ec3f73f090fffb4a"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_dice_py_1_1dice__inputs.html#a261569dce72b6b21ec3f73f090fffb4a">dice_inputs</a> ()</td></tr>
<tr class="memdesc:a261569dce72b6b21ec3f73f090fffb4a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enquires whether the user would like to write a new params.txt file, or check an existing params.txt file, and follows up accordingly.  <a href="namespace_dice_py_1_1dice__inputs.html#a261569dce72b6b21ec3f73f090fffb4a">More...</a><br /></td></tr>
<tr class="separator:a261569dce72b6b21ec3f73f090fffb4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Contains main routine that handles the input file params.txt for Dice. </p>
<p>This program can generate a new params.txt input file, using user input collated by an interactive sub-program of guided prompts. Alternatively, it can check the correctness of a user assembled params.txt file, informing the user of any errors. For restart runs, this program will also check that the required restart files are present, and notify the user if they are missing. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a261569dce72b6b21ec3f73f090fffb4a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a261569dce72b6b21ec3f73f090fffb4a">&#9670;&nbsp;</a></span>dice_inputs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def DicePy.dice_inputs.dice_inputs </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enquires whether the user would like to write a new params.txt file, or check an existing params.txt file, and follows up accordingly. </p>
<p>This routine has been wrapped in a function so that it can be called interactively from a jupyter notebook. It can also be invoked directly from the terminal by running: python 3 <a class="el" href="dice__inputs_8py.html">dice_inputs.py</a> </p>

<p class="definition">Definition at line <a class="el" href="dice__inputs_8py_source.html#l00024">24</a> of file <a class="el" href="dice__inputs_8py_source.html">dice_inputs.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="keyword">def </span><a class="code" href="namespace_dice_py_1_1dice__inputs.html#a261569dce72b6b21ec3f73f090fffb4a">dice_inputs</a>():</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160; </div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;    <span class="comment"># Welcome Message</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;    print(<span class="stringliteral">&#39;&#39;</span>)</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;    print(<span class="stringliteral">&#39;------------&#39;</span>)</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;    print(<span class="stringliteral">&#39;Dice QMC&#39;</span>)</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    print(<span class="stringliteral">&#39;------------&#39;</span>)</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;    print(<span class="stringliteral">&#39;&#39;</span>)</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;    print(<span class="stringliteral">&#39;Hello! I\&#39;m here to help you with the input file for your Dice QMC simulation.&#39;</span>)</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160; </div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    <span class="comment"># Query the Task</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    print(<span class="stringliteral">&#39;&#39;</span>)</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    print(<span class="stringliteral">&#39;Would you like me to write (w) or check (c) your input file?&#39;</span>)</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    task = input(<span class="stringliteral">&#39;Your response (&quot;w&quot; or &quot;c&quot;, without quotes): &#39;</span>)</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160; </div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    <span class="comment"># Check</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    <span class="keywordflow">while</span> task!=<span class="stringliteral">&#39;w&#39;</span> <span class="keywordflow">and</span> task!=<span class="stringliteral">&#39;c&#39;</span>:</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;        print(<span class="stringliteral">&#39;&#39;</span>)</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;        print(<span class="stringliteral">&#39;Error: Oops, your response is invalid, please enter &quot;w&quot; or &quot;c&quot;, without quotes.&#39;</span>)</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;        task = input(<span class="stringliteral">&#39;Your response: &#39;</span>)</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160; </div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    <span class="comment"># Report</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    <span class="keywordflow">if</span> task==<span class="stringliteral">&#39;w&#39;</span>:</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;        print(<span class="stringliteral">&#39;&#39;</span>)</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;        print(<span class="stringliteral">&#39;Alright! I shall write out a new input file for you.&#39;</span>)</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160; </div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;        <span class="comment"># Query the user for data</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;        control, params = <a class="code" href="namespace_dice_py_1_1dice__write.html#a9c61faf451621bddc76ed8a230036039">query_params</a>()</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160; </div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;        <span class="comment"># Write the params.txt file</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;        <a class="code" href="namespace_dice_py_1_1dice__write.html#a3c84b7bc2d0a5121d56457058e3920d1">write_params</a>(control,params)</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160; </div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;        <span class="comment"># Notify user</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;        print(<span class="stringliteral">&#39;&#39;</span>)</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;        print(<span class="stringliteral">&#39;Your params.txt file is ready! You are all set to run the next step on Fortran :-) &#39;</span>)</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160; </div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;        print(<span class="stringliteral">&#39;&#39;</span>)</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;        print(<span class="stringliteral">&#39;Alright! I shall check the input file in this directory.&#39;</span>)</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160; </div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;        <span class="comment"># Check that params.txt exits</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;        <span class="keywordflow">try</span>: </div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;            f = open(<span class="stringliteral">&#39;params.txt&#39;</span>)</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;        <span class="keywordflow">except</span> FileNotFoundError:</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;            print(<span class="stringliteral">&#39;&#39;</span>)</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;            print(<span class="stringliteral">&#39;Error: Oops, there is no param.txt file in the current working directory.&#39;</span>)</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;            print(<span class="stringliteral">&#39;       Please copy your params.txt file into this directory, and then run dice_inputs() again.&#39;</span>)</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;            print(<span class="stringliteral">&#39;       Exiting the program.&#39;</span>)</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;            print(<span class="stringliteral">&#39;&#39;</span>); exit()</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;        f.close()</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160; </div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;        <span class="comment"># Reading Namelists</span></div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;        <span class="keyword">import</span> f90nml</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;        nml = f90nml.read(<span class="stringliteral">&#39;params.txt&#39;</span>)</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160; </div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;        <span class="comment"># Check content of params.txt</span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;        <a class="code" href="namespace_dice_py_1_1dice__check.html#a5b0048e86c14d5a7e78feabc634e4b67">check_inputs</a>(nml)</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160; </div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;        <span class="comment"># Notify user</span></div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;        print(<span class="stringliteral">&#39;&#39;</span>)</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;        print(<span class="stringliteral">&#39;Your params.txt file is correct! You are all set to run the next step on Fortran :-) &#39;</span>)</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160; </div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="comment"># For users running the program directly on the terminal,</span></div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="comment"># call the input routine defined above</span></div>
<div class="ttc" id="anamespace_dice_py_1_1dice__check_html_a5b0048e86c14d5a7e78feabc634e4b67"><div class="ttname"><a href="namespace_dice_py_1_1dice__check.html#a5b0048e86c14d5a7e78feabc634e4b67">DicePy.dice_check.check_inputs</a></div><div class="ttdeci">def check_inputs(nml)</div><div class="ttdoc">Major subroutine that checks the inputs of file params.txt.</div><div class="ttdef"><b>Definition:</b> <a href="dice__check_8py_source.html#l00151">dice_check.py:151</a></div></div>
<div class="ttc" id="anamespace_dice_py_1_1dice__inputs_html_a261569dce72b6b21ec3f73f090fffb4a"><div class="ttname"><a href="namespace_dice_py_1_1dice__inputs.html#a261569dce72b6b21ec3f73f090fffb4a">DicePy.dice_inputs.dice_inputs</a></div><div class="ttdeci">def dice_inputs()</div><div class="ttdoc">Enquires whether the user would like to write a new params.txt file, or check an existing params....</div><div class="ttdef"><b>Definition:</b> <a href="dice__inputs_8py_source.html#l00024">dice_inputs.py:24</a></div></div>
<div class="ttc" id="anamespace_dice_py_1_1dice__write_html_a3c84b7bc2d0a5121d56457058e3920d1"><div class="ttname"><a href="namespace_dice_py_1_1dice__write.html#a3c84b7bc2d0a5121d56457058e3920d1">DicePy.dice_write.write_params</a></div><div class="ttdeci">def write_params(control, params)</div><div class="ttdoc">Major subroutine that writes the input file params.txt.</div><div class="ttdef"><b>Definition:</b> <a href="dice__write_8py_source.html#l00548">dice_write.py:548</a></div></div>
<div class="ttc" id="anamespace_dice_py_1_1dice__write_html_a9c61faf451621bddc76ed8a230036039"><div class="ttname"><a href="namespace_dice_py_1_1dice__write.html#a9c61faf451621bddc76ed8a230036039">DicePy.dice_write.query_params</a></div><div class="ttdeci">def query_params()</div><div class="ttdoc">Major function that queries the user for all the inputs required to assemble params....</div><div class="ttdef"><b>Definition:</b> <a href="dice__write_8py_source.html#l00189">dice_write.py:189</a></div></div>
</div><!-- fragment --><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="namespace_dice_py_1_1dice__inputs_a261569dce72b6b21ec3f73f090fffb4a_cgraph.png" border="0" usemap="#anamespace_dice_py_1_1dice__inputs_a261569dce72b6b21ec3f73f090fffb4a_cgraph" alt=""/></div>
<map name="anamespace_dice_py_1_1dice__inputs_a261569dce72b6b21ec3f73f090fffb4a_cgraph" id="anamespace_dice_py_1_1dice__inputs_a261569dce72b6b21ec3f73f090fffb4a_cgraph">
<area shape="rect" title="Enquires whether the user would like to write a new params.txt file, or check an existing params...." alt="" coords="5,333,164,375"/>
<area shape="rect" href="namespace_dice_py_1_1dice__check.html#a5b0048e86c14d5a7e78feabc634e4b67" title="Major subroutine that checks the inputs of file params.txt." alt="" coords="212,140,383,181"/>
<area shape="rect" href="namespace_dice_py_1_1dice__write.html#a9c61faf451621bddc76ed8a230036039" title="Major function that queries the user for all the inputs required to assemble params...." alt="" coords="218,333,377,375"/>
<area shape="rect" href="namespace_dice_py_1_1dice__write.html#a3c84b7bc2d0a5121d56457058e3920d1" title="Major subroutine that writes the input file params.txt." alt="" coords="219,399,375,440"/>
<area shape="rect" href="namespace_dice_py_1_1dice__check.html#a98dca2498872f2c2a52c4094512f1a9b" title="Checks the input value of a parameter that is expected to be a float." alt="" coords="447,5,617,47"/>
<area shape="rect" href="namespace_dice_py_1_1dice__check.html#a7df2fa306a86981ea59e1bcc94584ab4" title="Subroutine that notifies the user when defaults are being used for a certain parameter." alt="" coords="681,89,856,131"/>
<area shape="rect" href="namespace_dice_py_1_1dice__check.html#a98e55f88fd3e099f39b2b2b773b0e720" title="Checks the input values for a grid parameter." alt="" coords="433,122,631,149"/>
<area shape="rect" href="namespace_dice_py_1_1dice__check.html#aba4662a6c4a329c05e7d1eed0cc8089a" title="Checks the input value of a parameter that is expected to be an integer step." alt="" coords="431,173,633,199"/>
<area shape="rect" href="namespace_dice_py_1_1dice__check.html#afa56e066426982c324e32bd0ad8ad2bf" title="Checks the validity of the input value given for a tag present in params.txt." alt="" coords="446,223,618,250"/>
<area shape="rect" href="namespace_dice_py_1_1dice__write.html#abd52e4ec35811b04e3525b0f3db3a74f" title="Queries whether the user wants to use default values for a certain parameter." alt="" coords="453,275,611,316"/>
<area shape="rect" href="namespace_dice_py_1_1dice__write.html#ad3bd71b7240382fbbdb2a0eb04f129cb" title="Queries user for the minimum, maximum and number of points of a parameter grid." alt="" coords="439,341,625,367"/>
<area shape="rect" href="namespace_dice_py_1_1dice__write.html#a511124193533a3328fbd919cb9eca1e4" title="Queries a positive float value, using the input string as a prompt." alt="" coords="453,392,611,433"/>
<area shape="rect" href="namespace_dice_py_1_1dice__write.html#a72a80ad03ea22ae6afae9e9cb7e97a57" title="Queries an integer step value, using the input string as a prompt." alt="" coords="437,458,627,485"/>
<area shape="rect" href="namespace_dice_py_1_1dice__write.html#a574df547f033dc2f9681db9085915822" title="Checks if the input string represents a float." alt="" coords="687,399,850,426"/>
<area shape="rect" href="namespace_dice_py_1_1dice__write.html#a876080e22b8a59221886abb1d420176d" title="Checks if the input string represents an integer." alt="" coords="693,458,845,485"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespace_dice_py.html">DicePy</a></li><li class="navelem"><a class="el" href="namespace_dice_py_1_1dice__inputs.html">dice_inputs</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
